<!DOCTYPE html>
<html lang="en">
<head>
    <title>Promices</title>
</head>
<body>
    <h2>Promices</h2>

    <script>
        // let promise = new Promise((resolve, reject) => {
        //     console.log('I am a promise');
        //     //resolve('fulfilled');
        //     reject('An error accured');
        // });

        // function getData(dataId, getNextData){
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             // console.log('data', dataId);
        //             // resolve('success');
        //             reject('error');
        //             if(getNextData){
        //                 getNextData();
        //             }
        //         }, 5000)
        //     });
        // }

        // const getPromise = () => {
        //     return new Promise((resolve, reject) => {
        //         console.log('I am a promise');
        //         //resolve('fulfilled');
        //         reject('An error accured');
        //     });
        // };

        // let promise = getPromise();
        // promise.then((res) => {
        //     console.log('promise fulfilled', res);
        // });

        // promise.catch((err) => {
        //     console.log('rejected', err)
        // })


        function asyncFun1() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('Data1');
                    resolve('fulfilled');
                    //reject('An error accured');
                }, 4000);  
            });
        };

        function asyncFun2() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log('Data2');
                    resolve('success');
                    //reject('An error accured');
                }, 4000);  
            });
        };


        console.log('fething data1');

        let promise1 = asyncFun1();
        promise1.then((res) => {
            console.log(res);
            console.log('fetching data2...');

            let promise2 = asyncFun2();
            promise2.then((res) => {
                console.log(res);
            });
        });

    </script>
</body>
</html>